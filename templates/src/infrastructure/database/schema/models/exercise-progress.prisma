/// Прогресс по упражнению
/// 
/// Модель для отслеживания прогресса пользователя по конкретному типу упражнения.
/// Позволяет гибко хранить статистику по различным методам изучения.
/// Связана с основной моделью Progress для обобщенной статистики.
model ExerciseProgress {
  /// Уникальный идентификатор прогресса упражнения
  id            String @id @default(cuid())
  
  /// Дата и время создания записи
  createdAt     DateTime @default(now())
  
  /// Дата и время последнего обновления записи
  updatedAt     DateTime @updatedAt

  /// ID основного прогресса
  progressId    String
  
  /// Связь с основным прогрессом
  progress      Progress @relation(fields: [progressId], references: [id], onDelete: Cascade)

  /// Тип упражнения
  exerciseType  ExerciseType
  
  /// Количество попыток
  attempts      Int @default(0)
  
  /// Количество правильных ответов
  correct       Int @default(0)
  
  /// Статус прогресса по упражнению
  status        ProgressStatus @default(NOT_STARTED)
  
  /// Дополнительные данные упражнения в формате JSON
  data          Json?

  @@map("exercise_progresses")
  @@unique([progressId, exerciseType])
  @@index([progressId])
  @@index([exerciseType])
  @@index([status])
}
