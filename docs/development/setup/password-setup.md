# üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–æ–ª–µ–π

## üéØ –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–æ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π.

## üìã –ü–æ–ª–∏—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### Development (–ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: `postgres` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π)
- **–ü–∞—Ä–æ–ª—å**: `dev_password` (–ø—Ä–æ—Å—Ç–æ–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: `s4q_db_dev`

### Production

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `s4q_app`)
- **–ü–∞—Ä–æ–ª—å**: —Å–ª–æ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 16 —Å–∏–º–≤–æ–ª–æ–≤)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: `s4q_db_prod`

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–∏—á–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è

### 1. –°–æ–∑–¥–∞–Ω–∏–µ .env.local

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞
cp env.example .env.local
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env.local` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ `dev_password` –Ω–∞ –≤–∞—à –ø–∞—Ä–æ–ª—å:

```env
# –í–∞—à –ª–∏—á–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
POSTGRES_URI=postgresql://postgres:YOUR_PASSWORD@localhost:5433/s4q_db_dev
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–π –ø–∞—Ä–æ–ª—å –≤ Docker, –æ–±–Ω–æ–≤–∏—Ç–µ `docker-compose.override.yml`:

```yaml
services:
  postgres:
    environment:
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=YOUR_PASSWORD # –í–∞—à –ø–∞—Ä–æ–ª—å
      - POSTGRES_DB=s4q_db_dev
```

## üö® –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### ‚úÖ –ß—Ç–æ –¥–µ–ª–∞—Ç—å:

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.env.local` –¥–ª—è –ª–∏—á–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –î–æ–±–∞–≤—å—Ç–µ `.env.local` –≤ `.gitignore`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–æ–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –≤ production
- –†–µ–≥—É–ª—è—Ä–Ω–æ –º–µ–Ω—è–π—Ç–µ –ø–∞—Ä–æ–ª–∏

### ‚ùå –ß—Ç–æ –ù–ï –¥–µ–ª–∞—Ç—å:

- –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –ø–∞—Ä–æ–ª–∏ –≤ Git
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ –ø–∞—Ä–æ–ª–∏ –≤ production
- –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –ø–∞—Ä–æ–ª–∏ —á–µ—Ä–µ–∑ –Ω–µ–∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
- –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π

### Development

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose down

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ .env.local
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å –Ω–æ–≤—ã–º –ø–∞—Ä–æ–ª–µ–º
docker-compose up -d
```

### Production

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
export POSTGRES_PASSWORD="new_secure_password"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å –Ω–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Docker Security](https://docs.docker.com/engine/security/)
- [PostgreSQL Security](https://www.postgresql.org/docs/current/security.html)
- [Environment Variables Best Practices](https://12factor.net/config)
