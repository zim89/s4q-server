# üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

## üéØ –û–±–∑–æ—Ä

Space4Quizlet Server –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **PostgreSQL** —Å **Prisma ORM** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏.

## üìã –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **PostgreSQL 15** - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Prisma** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π ORM –¥–ª—è TypeScript
- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
docker-compose up -d postgres
```

### 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client

```bash
bun run prisma:generate
```

### 3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã

```bash
bun run prisma:db:push
```

### 4. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

```bash
bun run db:seed
```

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Prisma –∫–æ–º–∞–Ω–¥—ã

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client
bun run prisma:generate

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã –∫ –ë–î
bun run prisma:db:push

# –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
bun run prisma:migrate:dev

# –°–±—Ä–æ—Å –ë–î (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
bun run prisma:db:reset

# –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö
bun run prisma:studio
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏

```bash
# –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
bun run db:seed

# –ë—ç–∫–∞–ø –ë–î
./scripts/docker-volumes.sh backup

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î
./scripts/docker-volumes.sh restore backup_file.sql
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Health Check

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ë–î
docker-compose exec postgres pg_isready -U postgres
```

### –õ–æ–≥–∏

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ PostgreSQL
docker-compose logs postgres
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
docker-compose exec postgres psql -U postgres -d s4q_db

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
SELECT * FROM pg_stat_database;
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Development

- –ü–∞—Ä–æ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Ä—Ç—É

### Production

- –°—Ç—Ä–æ–≥–∏–µ –ø–∞—Ä–æ–ª–∏
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø
- SSL —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ö–µ–º—ã

```
src/infrastructure/database/schema/
‚îú‚îÄ‚îÄ schema.prisma                    # –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ö–µ–º–∞ Prisma
‚îú‚îÄ‚îÄ migrations/                      # –ü–∞–ø–∫–∞ —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ 20250823085314_init/
‚îÇ       ‚îî‚îÄ‚îÄ migration.sql
‚îú‚îÄ‚îÄ models/                         # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ user.prisma
‚îÇ   ‚îú‚îÄ‚îÄ card.prisma
‚îÇ   ‚îú‚îÄ‚îÄ set.prisma
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ enums/                          # –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ language.enums.prisma
    ‚îú‚îÄ‚îÄ system.enums.prisma
    ‚îú‚îÄ‚îÄ learning.enums.prisma
    ‚îî‚îÄ‚îÄ ...
```

### –ú–æ–¥—É–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è

- **–ú–æ–¥–µ–ª–∏** —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
- **–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è** —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- **–ú–∏–≥—Ä–∞—Ü–∏–∏** —Ö—Ä–∞–Ω—è—Ç—Å—è —Ä—è–¥–æ–º —Å–æ —Å—Ö–µ–º–æ–π –¥–ª—è –ª–æ–≥–∏—á–µ—Å–∫–æ–π —Å–≤—è–∑–∏
- **Backlog** —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –±—É–¥—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ API –º–∏–≥—Ä–∞—Ü–∏–π

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [Prisma Guide](prisma-guide.md) - –ø–æ–¥—Ä–æ–±–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å Prisma
- [Migrations Guide](migrations-guide.md) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª
- [Docker Documentation](../docker/README.md) - —Ä–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
