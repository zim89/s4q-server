# üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –î–æ (—Ä—É—á–Ω–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)

```typescript
@Controller({ path: 'auth', version: '0' })  // –ñ–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
export class AuthController {

  @Post('register')  // /v0/auth/register
  async register() { ... }

  @Version('1')  // –†—É—á–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏
  @Post('login')  // /v1/auth/login
  async login() { ... }
}
```

### –ü–æ—Å–ª–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)

```typescript
@Controller('auth')  // –ë–µ–∑ –≤–µ—Ä—Å–∏–∏ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
export class AuthController {

  @apiVersionStable('auth')  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –≤–µ—Ä—Å–∏—é –∏–∑ –∫–æ–Ω—Å—Ç–∞–Ω—Ç
  @Post('register')  // /v0/auth/register
  async register() { ... }

  @apiVersionExperimental()  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é
  @Post('login')  // /v1/auth/login
  async login() { ... }
}
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –î–µ–∫–æ—Ä–∞—Ç–æ—Ä                    | –í–µ—Ä—Å–∏—è | URL                      |
| -------- | ---------------------------- | ------ | ------------------------ |
| register | `@apiVersionStable('auth')`  | v0     | `POST /v0/auth/register` |
| login    | `@apiVersionExperimental()`  | v1     | `POST /v1/auth/login`    |
| refresh  | `@apiVersionCurrent('auth')` | v0     | `POST /v0/auth/refresh`  |
| logout   | `@apiVersionStable('auth')`  | v0     | `POST /v0/auth/logout`   |

## üîß –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

- –í–µ—Ä—Å–∏–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö
- –ù–µ –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å, –∫–∞–∫–∞—è –≤–µ—Ä—Å–∏—è —É –∫–∞–∫–æ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç

### ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

- –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏
- –õ–µ–≥–∫–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å, –∫–∞–∫–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ, –∞ –∫–∞–∫–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ

### ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å

- –õ–µ–≥–∫–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤–µ—Ä—Å–∏—é –¥–ª—è –≤—Å–µ–≥–æ –º–æ–¥—É–ª—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≤–µ—Ä—Å–∏–π (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è, –±–µ—Ç–∞)

## üöÄ –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –≤–µ—Ä—Å–∏—é

### –î–ª—è –æ–¥–Ω–æ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞

```typescript
// –ò–∑–º–µ–Ω–∏—Ç—å —Å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω—É—é
@apiVersionStable('auth')  // –≤–º–µ—Å—Ç–æ @apiVersionExperimental()
@Post('login')
async login() { ... }
```

### –î–ª—è –≤—Å–µ–≥–æ –º–æ–¥—É–ª—è

```typescript
// –í src/shared/constants/api-versions.ts
export const moduleVersions = {
  auth: {
    current: apiVersions.v1, // –ò–∑–º–µ–Ω–∏—Ç—å —Å v0 –Ω–∞ v1
    stable: apiVersions.v1, // –ò–∑–º–µ–Ω–∏—Ç—å —Å v0 –Ω–∞ v1
    experimental: apiVersions.v2, // –ò–∑–º–µ–Ω–∏—Ç—å —Å v1 –Ω–∞ v2
  },
} as const;
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç

- –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å `@apiVersionStable('auth')` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—Ç –≤–µ—Ä—Å–∏—é v1
- –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å `@apiVersionCurrent('auth')` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—Ç –≤–µ—Ä—Å–∏—é v1
- –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å `@apiVersionExperimental()` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—Ç –≤–µ—Ä—Å–∏—é v2

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

```typescript
@apiVersionStable('auth')  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é –º–æ–¥—É–ª—è
```

### –î–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

```typescript
@apiVersionExperimental()  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é
```

### –î–ª—è —Ç–µ–∫—É—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π

```typescript
@apiVersionCurrent('auth')  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –º–æ–¥—É–ª—è
```

---

_–¢–µ–ø–µ—Ä—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ!_ üéâ
