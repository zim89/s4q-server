# üìö –ú–æ–¥—É–ª—å –Ω–∞–±–æ—Ä–æ–≤ (Sets)

–ú–æ–¥—É–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–±–æ—Ä–∞–º–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —è–∑—ã–∫–æ–≤.

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–±–æ—Ä–æ–≤ –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –Ω–∞–±–æ—Ä–æ–≤ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ç–∏–ø, —É—Ä–æ–≤–µ–Ω—å)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –Ω–∞–±–æ—Ä–æ–≤ (—è–∑—ã–∫–æ–≤—ã–µ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ)
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–π
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –ø–æ–ª—è–º
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –∏–∑ –Ω–∞–±–æ—Ä–æ–≤
- Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
set/
‚îú‚îÄ‚îÄ dto/                    # Data Transfer Objects
‚îÇ   ‚îú‚îÄ‚îÄ create-set.dto.ts   # DTO –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–±–æ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ update-set.dto.ts   # DTO –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞–±–æ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ set-query.dto.ts    # DTO –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ index.ts           # –≠–∫—Å–ø–æ—Ä—Ç—ã DTO
‚îú‚îÄ‚îÄ decorators/             # Swagger –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ set-swagger.decorator.ts   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
‚îÇ   ‚îî‚îÄ‚îÄ index.ts           # –≠–∫—Å–ø–æ—Ä—Ç—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤
‚îú‚îÄ‚îÄ set.controller.ts       # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä API
‚îú‚îÄ‚îÄ set.service.ts          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ set.module.ts           # –ú–æ–¥—É–ª—å NestJS
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîß API Endpoints

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–±–æ—Ä–∞

```http
POST /sets
Authorization: Bearer <token>
Content-Type: application/json

{
  "name": "–ë–∞–∑–æ–≤—ã–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ —Å–ª–æ–≤–∞",
  "description": "–ù–∞–±–æ—Ä –±–∞–∑–æ–≤—ã—Ö –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Å–ª–æ–≤ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö",
  "type": "LANGUAGE",
  "level": "A1",
  "contentCategory": "EDUCATIONAL",
  "isPublic": true
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞–±–æ—Ä–æ–≤ (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π)

```http
GET /sets?page=1&limit=10&search=english&type=LANGUAGE&level=A1&sort=createdAt&order=desc
```

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `page` - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)
- `limit` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10)
- `search` - –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é (–±–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞)
- `type` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –Ω–∞–±–æ—Ä–∞ (`LANGUAGE`, `CUSTOM`)
- `level` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —É—Ä–æ–≤–Ω—é —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (`A1`, `A2`, `B1`, `B2`, `C1`, `C2`)
- `contentCategory` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- `sort` - –ø–æ–ª–µ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (`createdAt`, `name`, `type`, `level`)
- `order` - –ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (`asc`, `desc`)

**–û—Ç–≤–µ—Ç:**

```json
{
  "data": [
    {
      "id": "clx1234567890abcdef",
      "name": "–ë–∞–∑–æ–≤—ã–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ —Å–ª–æ–≤–∞",
      "slug": "bazovye-angliyskie-slova",
      "description": "–ù–∞–±–æ—Ä –±–∞–∑–æ–≤—ã—Ö –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Å–ª–æ–≤ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö",
      "type": "LANGUAGE",
      "isBase": false,
      "isPublic": true,
      "userId": "user123",
      "languageId": "lang123",
      "level": "A1",
      "contentCategory": "EDUCATIONAL",
      "contentStatus": "DRAFT",
      "createdAt": "2024-01-01T00:00:00.000Z",
      "updatedAt": "2024-01-01T00:00:00.000Z"
    }
  ],
  "pagination": {
    "total": 50,
    "page": 1,
    "limit": 10,
    "totalPages": 5,
    "hasNext": true,
    "hasPrev": false
  }
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–±–æ—Ä–∞ –ø–æ ID

```http
GET /sets/:id
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–±–æ—Ä–∞

```http
PATCH /sets/:id
Authorization: Bearer <token>
Content-Type: application/json

{
  "name": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "description": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
  "level": "A2"
}
```

### –£–¥–∞–ª–µ–Ω–∏–µ –Ω–∞–±–æ—Ä–∞

```http
DELETE /sets/:id
Authorization: Bearer <token>
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ –Ω–∞–±–æ—Ä

```http
POST /sets/:id/cards/:cardId
Authorization: Bearer <token>
```

### –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∏–∑ –Ω–∞–±–æ—Ä–∞

```http
DELETE /sets/:id/cards/:cardId
Authorization: Bearer <token>
```

## üîê –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

- **–°–æ–∑–¥–∞–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ**: –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã (`ADMIN` —Ä–æ–ª—å)
- **–ü—Ä–æ—Å–º–æ—Ç—Ä**: –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–ø—É–±–ª–∏—á–Ω—ã–µ –Ω–∞–±–æ—Ä—ã)
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏**: –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã (`ADMIN` —Ä–æ–ª—å)

## üìä –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

### SetType (–¢–∏–ø –Ω–∞–±–æ—Ä–∞)

- `LANGUAGE` - –Ø–∑—ã–∫–æ–≤–æ–π –Ω–∞–±–æ—Ä
- `CUSTOM` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –Ω–∞–±–æ—Ä

### LanguageLevel (–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏)

- `A1` - –ù–∞—á–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
- `A2` - –≠–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
- `B1` - –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å
- `B2` - –í—ã—à–µ —Å—Ä–µ–¥–Ω–µ–≥–æ
- `C1` - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å
- `C2` - –í —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–µ

### ContentCategory (–ö–∞—Ç–µ–≥–æ—Ä–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞)

- `EDUCATIONAL` - –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π
- `ENTERTAINMENT` - –†–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π
- `BUSINESS` - –î–µ–ª–æ–≤–æ–π
- `TECHNICAL` - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π
- `MEDICAL` - –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π
- `LEGAL` - –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π
- `OTHER` - –î—Ä—É–≥–æ–µ

### ContentStatus (–°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–Ω—Ç–∞)

- `DRAFT` - –ß–µ—Ä–Ω–æ–≤–∏–∫
- `PUBLISHED` - –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω
- `ARCHIVED` - –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–±–æ—Ä–∞

```typescript
import { SetService } from './set.service';
import { SetType, LanguageLevel, ContentCategory } from '@prisma/client';

@Injectable()
export class SomeService {
  constructor(private setService: SetService) {}

  async createSet() {
    const set = await this.setService.create(
      {
        name: '–ë–∞–∑–æ–≤—ã–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ —Å–ª–æ–≤–∞',
        description: '–ù–∞–±–æ—Ä –±–∞–∑–æ–≤—ã—Ö –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Å–ª–æ–≤ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö',
        type: SetType.LANGUAGE,
        level: LanguageLevel.A1,
        contentCategory: ContentCategory.EDUCATIONAL,
        isPublic: true,
      },
      userId
    );
  }
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–±–æ—Ä–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

```typescript
// –í—Å–µ –Ω–∞–±–æ—Ä—ã —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
const result = await this.setService.findAll({
  page: 1,
  limit: 20,
  search: 'english',
  type: SetType.LANGUAGE,
  level: LanguageLevel.A1,
  sort: 'createdAt',
  order: 'desc',
});

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –Ω–∞–±–æ—Ä
const set = await this.setService.findOne('set-id');
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –≤ –Ω–∞–±–æ—Ä–µ

```typescript
// –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –≤ –Ω–∞–±–æ—Ä
await this.setService.addCardToSet('set-id', 'card-id');

// –£–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –∏–∑ –Ω–∞–±–æ—Ä–∞
await this.setService.removeCardFromSet('set-id', 'card-id');
```

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

- **Slug**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–∑ `name`
- **Timestamps**: `createdAt` –∏ `updatedAt` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **Defaults**: `type` = `LANGUAGE`, `isBase` = `false`, `isPublic` = `false`, `contentStatus` = `DRAFT`

## üìù –ü—Ä–∏–º–µ—Ä—ã

### –ë–∞–∑–æ–≤—ã–π –Ω–∞–±–æ—Ä

```json
{
  "id": "clx1234567890abcdef",
  "name": "–ë–∞–∑–æ–≤—ã–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ —Å–ª–æ–≤–∞",
  "slug": "bazovye-angliyskie-slova",
  "description": "–ù–∞–±–æ—Ä –±–∞–∑–æ–≤—ã—Ö –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Å–ª–æ–≤ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö",
  "type": "LANGUAGE",
  "isBase": false,
  "isPublic": true,
  "userId": "user123",
  "languageId": "lang123",
  "level": "A1",
  "contentCategory": "EDUCATIONAL",
  "contentStatus": "DRAFT",
  "createdAt": "2024-01-01T00:00:00.000Z",
  "updatedAt": "2024-01-01T00:00:00.000Z"
}
```

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –Ω–∞–±–æ—Ä

```json
{
  "name": "–ú–æ–∏ –ª—é–±–∏–º—ã–µ —Å–ª–æ–≤–∞",
  "description": "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Å–ª–æ–≤",
  "type": "CUSTOM",
  "isPublic": false,
  "level": "B2",
  "contentCategory": "ENTERTAINMENT"
}
```

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- **Prisma**: –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **@nestjs/swagger**: –î–ª—è API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **class-validator**: –î–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ DTO
- **class-transformer**: –î–ª—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- **Auth Module**: –î–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## üìö Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–í—Å–µ endpoints –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ Swagger –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –≤ `set-swagger.decorator.ts`. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É `/api` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üîó –°–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏

- **Card Module**: –ù–∞–±–æ—Ä—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–∞—Ä—Ç–æ—á–∫–∏
- **User Module**: –ù–∞–±–æ—Ä—ã –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- **Language Module**: –ù–∞–±–æ—Ä—ã —Å–≤—è–∑–∞–Ω—ã —Å —è–∑—ã–∫–∞–º–∏
- **Folder Module**: –ù–∞–±–æ—Ä—ã –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –≤ –ø–∞–ø–∫–∏
- **Tag Module**: –ù–∞–±–æ—Ä—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Ç–µ–≥–∏
