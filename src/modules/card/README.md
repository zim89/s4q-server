# –ú–æ–¥—É–ª—å –∫–∞—Ä—Ç–æ—á–µ–∫ (Card Module)

## üìã –û–±–∑–æ—Ä

–ú–æ–¥—É–ª—å –∫–∞—Ä—Ç–æ—á–µ–∫ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø–æ–∏—Å–∫ –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —è–∑—ã–∫–æ–≤. –ö–∞—Ä—Ç–æ—á–∫–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–æ–≤–∞, —Ñ—Ä–∞–∑—ã, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏ –∏–¥–∏–æ–º—ã —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

- **CardController** - REST API endpoints –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
- **CardService** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
- **DTOs** - –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **Swagger Decorators** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

- **PrismaService** - —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **ContentAnalyzerService** - –∞–Ω–∞–ª–∏–∑ —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **DifficultyCalculatorService** - —Ä–∞—Å—á–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∫–∞—Ä—Ç–æ—á–µ–∫

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏

```typescript
POST /cards
{
  "wordOrPhrase": "beautiful",
  "partOfSpeech": "ADJECTIVE",
  "transcription": "ÀàbjuÀêt…™f…ôl",
  "difficulty": "EASY"
}
```

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π:

1. **slug** - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–∑ `wordOrPhrase`
2. **languageId** - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫
3. **contentType** - –≤—Å–µ–≥–¥–∞ `TEXT`
4. **contentStatus** - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `DRAFT`
5. **isGlobal** - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `true`
6. **difficulty** - —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–∞)

### –ü–æ–∏—Å–∫ –∫–∞—Ä—Ç–æ—á–µ–∫

```typescript
GET /cards?page=1&limit=10&difficulty=EASY&partOfSpeech=NOUN&search=hello
```

#### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:

- **difficulty** - —Å–ª–æ–∂–Ω–æ—Å—Ç—å (EASY, MEDIUM, HARD)
- **partOfSpeech** - —á–∞—Å—Ç—å —Ä–µ—á–∏
- **search** - –ø–æ–∏—Å–∫ –ø–æ —Å–ª–æ–≤—É/—Ñ—Ä–∞–∑–µ
- **page/limit** - –ø–∞–≥–∏–Ω–∞—Ü–∏—è
- **sort/order** - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

## üéµ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∏–∑ —Å–ª–æ–≤–∞—Ä—è **—Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–ª–æ–≤**:

### ‚úÖ **–ü–æ–ª—É—á–∞–µ–º —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é:**

#### –û–±—ã—á–Ω—ã–µ —Å–ª–æ–≤–∞:

- `hello` ‚Üí `h…ôÀàlo ä`
- `beautiful` ‚Üí `Ààby√º-ti-f…ôl`
- `computer` ‚Üí `k…ômÀàpyoÕûot…ôr`

#### –°–æ—Å—Ç–∞–≤–Ω—ã–µ —Å–ª–æ–≤–∞ —Å –¥–µ—Ñ–∏—Å–æ–º:

- `self-driving` ‚Üí `Ààself Ààdra…™v…™≈ã`
- `well-known` ‚Üí `Ààwel Ààno än`
- `up-to-date` ‚Üí `Àà åp tuÀê Ààde…™t`

#### –°–ª–æ–≤–∞ —Å –∞–ø–æ—Å—Ç—Ä–æ—Ñ–æ–º:

- `don't` ‚Üí `do änt`
- `can't` ‚Üí `k√¶nt`
- `it's` ‚Üí `…™ts`

#### –°–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å —Ç–æ—á–∫–æ–π:

- `e.g.` ‚Üí `ÀåiÀê Ààd íiÀê`
- `i.e.` ‚Üí `Àåa…™ ÀàiÀê`
- `etc.` ‚Üí `…™t Ààsetr…ô`

### ‚ùå **–ù–ï –ø–æ–ª—É—á–∞–µ–º —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é:**

#### –§—Ä–∞–∑—ã –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:

- `hello world` (—Ñ—Ä–∞–∑–∞)
- `look up` (—Ñ—Ä–∞–∑–æ–≤—ã–π –≥–ª–∞–≥–æ–ª)
- `break a leg` (–∏–¥–∏–æ–º–∞)
- `Hello, how are you?` (–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ)

#### –ß–∏—Å–ª–∞ –∏ —Å–∏–º–≤–æ–ª—ã:

- `123` (—á–∏—Å–ª–æ)
- `3.14` (–¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ)
- `@#$%` (—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã)

### üîß **–õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:**

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `ContentAnalyzerService.isSingleWord()` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–ª–æ–≤–æ–º:

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–æ–±–µ–ª—ã** - –µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–µ–ª—ã, —ç—Ç–æ –Ω–µ —Å–ª–æ–≤–æ
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è** - –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —á–∏—Å–ª–∞** - —á–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã** - —Å–∏–º–≤–æ–ª—ã –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è
5. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö —Å–ª–æ–≤** - —Å–ª–æ–≤–∞ —Å –¥–µ—Ñ–∏—Å–æ–º —Å—á–∏—Ç–∞—é—Ç—Å—è —Å–ª–æ–≤–∞–º–∏

### üåê **–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã:**

- **Merriam-Webster** (–æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä)
- **Free Dictionary API** (fallback –ø—Ä–æ–≤–∞–π–¥–µ—Ä)

### ‚ö†Ô∏è **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**

- –ï—Å–ª–∏ —Å–ª–æ–≤–∞—Ä—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω - –∫–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –±–µ–∑ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
- –û—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é –≤—Ä—É—á–Ω—É—é –ø–æ–∑–∂–µ

## üß† –°–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

### DifficultyCalculatorService

–°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ:

#### 1. –ë–∞–∑–æ–≤—ã–µ —Å–ª–æ–≤–∞ (EASY)

- –ê—Ä—Ç–∏–∫–ª–∏: `a`, `an`, `the`
- –ú–µ—Å—Ç–æ–∏–º–µ–Ω–∏—è: `I`, `you`, `he`, `she`, `it`
- –ü—Ä–µ–¥–ª–æ–≥–∏: `in`, `on`, `at`, `to`, `for`
- –°–æ—é–∑—ã: `and`, `or`, `but`, `so`
- –ì–ª–∞–≥–æ–ª—ã-—Å–≤—è–∑–∫–∏: `is`, `are`, `was`, `were`
- –ë–∞–∑–æ–≤—ã–µ –≥–ª–∞–≥–æ–ª—ã: `go`, `get`, `make`, `take`
- –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ: `good`, `bad`, `big`, `small`
- –ë–∞–∑–æ–≤—ã–µ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ: `time`, `day`, `house`, `car`

#### 2. –ß–∞—Å—Ç—å —Ä–µ—á–∏

- **EASY**: ARTICLE, PRONOUN, PREPOSITION, CONJUNCTION, INTERJECTION, PARTICLE
- **MEDIUM**: NOUN, VERB, ADJECTIVE, ADVERB, PHRASE, PHRASE_VERB
- **HARD**: IDIOM, SENTENCE

#### 3. –î–ª–∏–Ω–∞ —Å–ª–æ–≤–∞

- **1-4 —Å–∏–º–≤–æ–ª–∞**: EASY
- **5-7 —Å–∏–º–≤–æ–ª–æ–≤**: EASY (–µ—Å–ª–∏ –Ω–µ—Ç —Å–ª–æ–∂–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è)
- **8-10 —Å–∏–º–≤–æ–ª–æ–≤**: MEDIUM
- **11+ —Å–∏–º–≤–æ–ª–æ–≤**: HARD

#### 4. –¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞

- **–§—Ä–∞–∑–æ–≤—ã–µ –≥–ª–∞–≥–æ–ª—ã**: `look up`, `get out` ‚Üí MEDIUM
- **–ò–¥–∏–æ–º—ã**: `break a leg`, `piece of cake` ‚Üí HARD
- **–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è**: –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–ª–æ–≤ (‚â§5: EASY, ‚â§10: MEDIUM, >10: HARD)
- **–§—Ä–∞–∑—ã**: –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–ª–æ–≤ (‚â§3: EASY, ‚â§6: MEDIUM, >6: HARD)

#### 5. –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è

- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–≥–ª–∞—Å–Ω—ã–µ: `strength` ‚Üí HARD
- –°–ª–æ–∂–Ω—ã–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è: `-tion`, `-sion`, `-cious` ‚Üí HARD
- –ù–µ–æ–±—ã—á–Ω—ã–µ –±—É–∫–≤—ã: `q`, `j`, `x`, `z` ‚Üí HARD

## üìä –ü—Ä–∏–º–µ—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫

| –°–ª–æ–≤–æ/–§—Ä–∞–∑–∞           | –ß–∞—Å—Ç—å —Ä–µ—á–∏  | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è        | –ü—Ä–∏—á–∏–Ω–∞            |
| --------------------- | ----------- | --------- | ------------------- | ------------------ |
| `the`                 | ARTICLE     | EASY      | ‚úÖ `√∞…ô`             | –ë–∞–∑–æ–≤–æ–µ —Å–ª–æ–≤–æ      |
| `hello`               | NOUN        | EASY      | ‚úÖ `h…ôÀàlo ä`         | –ö–æ—Ä–æ—Ç–∫–æ–µ —Å–ª–æ–≤–æ     |
| `beautiful`           | ADJECTIVE   | MEDIUM    | ‚úÖ `Ààby√º-ti-f…ôl`    | –°—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞      |
| `self-driving`        | ADJECTIVE   | HARD      | ‚úÖ `Ààself Ààdra…™v…™≈ã` | –°–æ—Å—Ç–∞–≤–Ω–æ–µ —Å–ª–æ–≤–æ    |
| `don't`               | VERB        | EASY      | ‚úÖ `do änt`          | –°–ª–æ–≤–æ —Å –∞–ø–æ—Å—Ç—Ä–æ—Ñ–æ–º |
| `look up`             | PHRASE_VERB | MEDIUM    | ‚ùå `null`           | –§—Ä–∞–∑–æ–≤—ã–π –≥–ª–∞–≥–æ–ª    |
| `break a leg`         | IDIOM       | HARD      | ‚ùå `null`           | –ò–¥–∏–æ–º–∞             |
| `Hello, how are you?` | SENTENCE    | EASY      | ‚ùå `null`           | –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ        |
| `123`                 | -           | -         | ‚ùå `null`           | –ß–∏—Å–ª–æ              |

## üîß –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 1. –õ–æ–∫–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞

- ‚ùå –ù–µ—Ç —É—á–µ—Ç–∞ —Ä–µ–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ª–æ–≤
- ‚ùå –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö
- ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –±–∞–∑–æ–≤—ã—Ö —Å–ª–æ–≤

### 2. –°—Ç–∞—Ç–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

- ‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚ùå –ù–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∫ –ø—Ä–æ–≥—Ä–µ—Å—Å—É –æ–±—É—á–µ–Ω–∏—è
- ‚ùå –ñ–µ—Å—Ç–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

### 3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

- ‚ùå –ù–µ—Ç —É—á–µ—Ç–∞ —Ç–µ–º—ã/–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–ª–æ–≤–∞
- ‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫—É–ª—å—Ç—É—Ä–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- ‚ùå –ù–µ—Ç —Å–≤—è–∑–∏ —Å –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏

## üöÄ –ü–ª–∞–Ω—ã –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### –≠—Ç–∞–ø 1: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API (–°–ª–µ–¥—É—é—â–∏–π)

#### Datamuse API (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)

```typescript
// –ü–æ–ª—É—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const frequency = await datamuseService.getWordFrequency(word);
if (frequency > 1000) return CardDifficulty.EASY;
```

#### Google Books Ngram

```typescript
// –ê–Ω–∞–ª–∏–∑ —á–∞—Å—Ç–æ—Ç—ã –≤ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–µ
const ngramData = await ngramService.getFrequency(word);
if (ngramData.frequency > 0.001) return CardDifficulty.EASY;
```

#### Wordnik API

```typescript
// –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
const wordnikData = await wordnikService.getWordInfo(word);
const difficulty = this.calculateFromMultipleSources(wordnikData);
```

### –≠—Ç–∞–ø 2: –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ (–ë—É–¥—É—â–µ–µ)

#### –ü—Ä–∏–∑–Ω–∞–∫–∏ –¥–ª—è ML –º–æ–¥–µ–ª–∏:

- –î–ª–∏–Ω–∞ —Å–ª–æ–≤–∞/—Ñ—Ä–∞–∑—ã
- –ß–∞—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è
- –ß–∞—Å—Ç—å —Ä–µ—á–∏
- –ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å

#### –ü—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏:

- **BERT-based** –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- **Word2Vec** –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- **Custom model** –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ—Ä–ø—É—Å–∞ —Ç–µ–∫—Å—Ç–æ–≤

### –≠—Ç–∞–ø 3: –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ)

#### –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å:

```typescript
// –£—á–∏—Ç—ã–≤–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const userLevel = await this.getUserLevel(userId);
const adjustedDifficulty = this.adjustForUserLevel(baseDifficulty, userLevel);
```

#### –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ:

```typescript
// –°–ª–æ–∂–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–µ–º—ã
const topicDifficulty = await this.getTopicDifficulty(topicId);
const finalDifficulty = this.combineDifficulties(
  wordDifficulty,
  topicDifficulty
);
```

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:

- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–ª–æ–≤–∞/—Ñ—Ä–∞–∑—ã
- –¢–æ—á–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏

### A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–∞–≤–∏–ª
- –û—Ü–µ–Ω–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –¢–µ–∫—É—â–∏–µ:

- **Dictionary API** - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –∏ –∞—É–¥–∏–æ
- **Prisma** - —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ:

- **Datamuse API** - —á–∞—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ª–æ–≤
- **Google Books Ngram** - –∞–Ω–∞–ª–∏–∑ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω–æ–π —á–∞—Å—Ç–æ—Ç—ã
- **Wordnik API** - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- **ML –º–æ–¥–µ–ª–∏** - —Ç–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã:

```typescript
describe('DifficultyCalculatorService', () => {
  it('should return EASY for basic words', () => {
    expect(service.calculateDifficulty('the')).toBe(CardDifficulty.EASY);
  });

  it('should return HARD for complex words', () => {
    expect(service.calculateDifficulty('extraordinary')).toBe(
      CardDifficulty.HARD
    );
  });
});
```

### Integration —Ç–µ—Å—Ç—ã:

```typescript
describe('CardService', () => {
  it('should create card with calculated difficulty', async () => {
    const card = await service.create({ wordOrPhrase: 'hello' });
    expect(card.difficulty).toBe(CardDifficulty.EASY);
  });
});
```

## üìù API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏

```typescript
POST /cards
Authorization: Bearer <token>
Content-Type: application/json

{
  "wordOrPhrase": "string",           // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
  "partOfSpeech": "PartOfSpeech",     // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  "transcription": "string",          // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–∞–≤—Ç–æ–ø–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ —Å–ª–æ–≤–∞—Ä—è)
  "audioUrl": "string",               // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  "imageUrl": "string",               // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  "difficulty": "CardDifficulty",     // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)
  "isGlobal": "boolean",              // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (true)
  "languageId": "string"              // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
}
```

#### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:

**–ü—Ä–æ—Å—Ç–æ–µ —Å–ª–æ–≤–æ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è):**

```json
{
  "wordOrPhrase": "beautiful"
}
```

**–°–ª–æ–≤–æ —Å —É–∫–∞–∑–∞–Ω–Ω–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–µ–π:**

```json
{
  "wordOrPhrase": "hello",
  "transcription": "h…ôÀàlo ä"
}
```

**–§—Ä–∞–∑–∞ (–±–µ–∑ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏):**

```json
{
  "wordOrPhrase": "look up"
}
```

**–°–æ—Å—Ç–∞–≤–Ω–æ–µ —Å–ª–æ–≤–æ:**

```json
{
  "wordOrPhrase": "self-driving"
}
```

### –ü–æ–∏—Å–∫ –∫–∞—Ä—Ç–æ—á–µ–∫

```typescript
GET /cards?page=1&limit=10&difficulty=EASY&partOfSpeech=NOUN&search=hello
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:

- –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫: —Ç–æ–ª—å–∫–æ ADMIN
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ä—Ç–æ—á–µ–∫: –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ: —Ç–æ–ª—å–∫–æ ADMIN

### –í–∞–ª–∏–¥–∞—Ü–∏—è:

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã (slug + partOfSpeech + languageId)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ DTO
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```env
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
CARD_DEFAULT_LIMIT=10
CARD_MAX_LIMIT=100

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∏—Å–∫–∞
CARD_SEARCH_MIN_LENGTH=2
CARD_SEARCH_MAX_LENGTH=50
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:

- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Prisma Schema](../infrastructure/database/schema/models/card.prisma)
- [DifficultyCalculatorService](../../shared/services/difficulty-calculator.service.ts)
- [ContentAnalyzerService](../../shared/services/content-analyzer.service.ts)
- [API Documentation](../../../docs/api/README.md)
