# üìù –ú–æ–¥—É–ª—å –∫–∞—Ä—Ç–æ—á–µ–∫

–ú–æ–¥—É–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Å –∞–Ω–≥–ª–∏–π—Å–∫–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ –∏ —Ñ—Ä–∞–∑–∞–º–∏.

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ —Å –∞–Ω–≥–ª–∏–π—Å–∫–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ –∏ —Ñ—Ä–∞–∑–∞–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ (—Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è, —á–∞—Å—Ç—å —Ä–µ—á–∏, —Å–ª–æ–∂–Ω–æ—Å—Ç—å)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∞—É–¥–∏–æ)
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è slug'–æ–≤
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–π
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –ø–æ–ª—è–º
- Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
card/
‚îú‚îÄ‚îÄ dto/                    # Data Transfer Objects
‚îÇ   ‚îú‚îÄ‚îÄ create-card.dto.ts  # DTO –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ update-card.dto.ts  # DTO –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ card-query.dto.ts   # DTO –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ index.ts           # –≠–∫—Å–ø–æ—Ä—Ç—ã DTO
‚îú‚îÄ‚îÄ decorators/             # Swagger –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ card-swagger.decorator.ts  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
‚îÇ   ‚îî‚îÄ‚îÄ index.ts           # –≠–∫—Å–ø–æ—Ä—Ç—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤
‚îú‚îÄ‚îÄ card.controller.ts      # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä API
‚îú‚îÄ‚îÄ card.service.ts         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ card.module.ts          # –ú–æ–¥—É–ª—å NestJS
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîß API Endpoints

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏

```http
POST /cards
Authorization: Bearer <token>
Content-Type: application/json

{
  "wordOrPhrase": "hello",
  "transcription": "h…ôÀàlo ä",
  "partOfSpeech": "INTERJECTION",
  "difficulty": "EASY",
  "contentType": "TEXT",
  "isGlobal": true
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π)

```http
GET /cards?page=1&limit=10&search=hello&difficulty=EASY&partOfSpeech=NOUN&sort=createdAt&order=desc
```

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `page` - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)
- `limit` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10)
- `search` - –ø–æ–∏—Å–∫ –ø–æ —Å–ª–æ–≤—É –∏–ª–∏ —Ñ—Ä–∞–∑–µ (–±–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞)
- `difficulty` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (`EASY`, `MEDIUM`, `HARD`, `EXPERT`)
- `partOfSpeech` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —á–∞—Å—Ç–∏ —Ä–µ—á–∏
- `sort` - –ø–æ–ª–µ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (`createdAt`, `wordOrPhrase`, `difficulty`)
- `order` - –ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (`asc`, `desc`)

**–û—Ç–≤–µ—Ç:**

```json
{
  "data": [
    {
      "id": "clx1234567890abcdef",
      "wordOrPhrase": "hello",
      "slug": "hello",
      "transcription": "h…ôÀàlo ä",
      "partOfSpeech": "INTERJECTION",
      "difficulty": "EASY",
      "contentType": "TEXT",
      "isGlobal": true,
      "studyCount": 0,
      "viewCount": 0,
      "createdAt": "2024-01-01T00:00:00.000Z",
      "updatedAt": "2024-01-01T00:00:00.000Z"
    }
  ],
  "pagination": {
    "total": 100,
    "page": 1,
    "limit": 10,
    "totalPages": 10,
    "hasNext": true,
    "hasPrev": false
  }
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø–æ ID

```http
GET /cards/:id
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏

```http
PATCH /cards/:id
Authorization: Bearer <token>
Content-Type: application/json

{
  "transcription": "h…ôÀàlo ä",
  "difficulty": "MEDIUM"
}
```

### –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏

```http
DELETE /cards/:id
Authorization: Bearer <token>
```

## üîê –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

- **–°–æ–∑–¥–∞–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ**: –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã (`ADMIN` —Ä–æ–ª—å)
- **–ü—Ä–æ—Å–º–æ—Ç—Ä**: –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–ø—É–±–ª–∏—á–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏)

## üìä –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

### PartOfSpeech (–ß–∞—Å—Ç–∏ —Ä–µ—á–∏)

- `NOUN` - –°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–µ
- `PRONOUN` - –ú–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ
- `VERB` - –ì–ª–∞–≥–æ–ª
- `ADJECTIVE` - –ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ
- `ADVERB` - –ù–∞—Ä–µ—á–∏–µ
- `PREPOSITION` - –ü—Ä–µ–¥–ª–æ–≥
- `CONJUNCTION` - –°–æ—é–∑
- `INTERJECTION` - –ú–µ–∂–¥–æ–º–µ—Ç–∏–µ
- `ARTICLE` - –ê—Ä—Ç–∏–∫–ª—å
- `PARTICLE` - –ß–∞—Å—Ç–∏—Ü–∞
- `PHRASE` - –§—Ä–∞–∑–∞

### CardDifficulty (–°–ª–æ–∂–Ω–æ—Å—Ç—å)

- `EASY` - –õ–µ–≥–∫–∏–π —É—Ä–æ–≤–µ–Ω—å
- `MEDIUM` - –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å
- `HARD` - –°–ª–æ–∂–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
- `EXPERT` - –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å

### ContentType (–¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞)

- `TEXT` - –¢–µ–∫—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
- `IMAGE` - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- `AUDIO` - –ê—É–¥–∏–æ
- `VIDEO` - –í–∏–¥–µ–æ
- `INTERACTIVE` - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏

```typescript
import { CardService } from './card.service';
import { PartOfSpeech, CardDifficulty, ContentType } from '@prisma/client';

@Injectable()
export class SomeService {
  constructor(private cardService: CardService) {}

  async createCard() {
    const card = await this.cardService.create(
      {
        wordOrPhrase: 'hello',
        transcription: 'h…ôÀàlo ä',
        partOfSpeech: PartOfSpeech.INTERJECTION,
        difficulty: CardDifficulty.EASY,
        contentType: ContentType.TEXT,
        isGlobal: true,
      },
      userId
    );
  }
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

```typescript
// –í—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
const result = await this.cardService.findAll({
  page: 1,
  limit: 20,
  search: 'hello',
  difficulty: CardDifficulty.EASY,
  sort: 'createdAt',
  order: 'desc',
});

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞
const card = await this.cardService.findOne('card-id');
```

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

- **Slug**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–∑ `wordOrPhrase`
- **Timestamps**: `createdAt` –∏ `updatedAt` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **Counters**: `studyCount` –∏ `viewCount` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ 0

## üìù –ü—Ä–∏–º–µ—Ä—ã

### –ë–∞–∑–æ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞

```json
{
  "id": "clx1234567890abcdef",
  "wordOrPhrase": "hello",
  "slug": "hello",
  "transcription": "h…ôÀàlo ä",
  "partOfSpeech": "INTERJECTION",
  "difficulty": "EASY",
  "contentType": "TEXT",
  "isGlobal": true,
  "studyCount": 0,
  "viewCount": 0,
  "createdAt": "2024-01-01T00:00:00.000Z",
  "updatedAt": "2024-01-01T00:00:00.000Z"
}
```

### –ö–∞—Ä—Ç–æ—á–∫–∞ —Å –º–µ–¥–∏–∞

```json
{
  "wordOrPhrase": "house",
  "transcription": "ha äs",
  "partOfSpeech": "NOUN",
  "imageUrl": "https://example.com/house.jpg",
  "audioUrl": "https://example.com/house.mp3",
  "difficulty": "EASY",
  "contentType": "TEXT"
}
```

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- **Prisma**: –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **@nestjs/swagger**: –î–ª—è API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **class-validator**: –î–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ DTO
- **class-transformer**: –î–ª—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- **Auth Module**: –î–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## üìö Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–í—Å–µ endpoints –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ Swagger –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –≤ `card-swagger.decorator.ts`. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É `/api` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
