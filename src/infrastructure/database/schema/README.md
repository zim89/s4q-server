# Prisma Schema - –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/infrastructure/database/schema/
‚îú‚îÄ‚îÄ schema.prisma          # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª (generator + datasource)
‚îú‚îÄ‚îÄ enums/                 # –ï–Ω—É–º—ã –ø–æ –¥–æ–º–µ–Ω–∞–º
‚îÇ   ‚îú‚îÄ‚îÄ user.enums.prisma
‚îÇ   ‚îú‚îÄ‚îÄ language.enums.prisma
‚îÇ   ‚îî‚îÄ‚îÄ progress.enums.prisma
‚îú‚îÄ‚îÄ models/                # –ú–æ–¥–µ–ª–∏ –ø–æ –¥–æ–º–µ–Ω–∞–º
‚îÇ   ‚îú‚îÄ‚îÄ user.model.prisma
‚îÇ   ‚îú‚îÄ‚îÄ session.model.prisma
‚îÇ   ‚îú‚îÄ‚îÄ achievement.model.prisma
‚îÇ   ‚îú‚îÄ‚îÄ language.model.prisma
‚îÇ   ‚îú‚îÄ‚îÄ grammar-rule.model.prisma
‚îÇ   ‚îú‚îÄ‚îÄ verb-form.model.prisma
‚îÇ   ‚îú‚îÄ‚îÄ card.model.prisma
‚îÇ   ‚îú‚îÄ‚îÄ definition.model.prisma
‚îÇ   ‚îú‚îÄ‚îÄ example.model.prisma
‚îÇ   ‚îú‚îÄ‚îÄ tag.model.prisma
‚îÇ   ‚îú‚îÄ‚îÄ set.model.prisma
‚îÇ   ‚îú‚îÄ‚îÄ user-set.model.prisma
‚îÇ   ‚îú‚îÄ‚îÄ folder.model.prisma
‚îÇ   ‚îú‚îÄ‚îÄ user-card.model.prisma
‚îÇ   ‚îú‚îÄ‚îÄ progress.model.prisma
‚îÇ   ‚îî‚îÄ‚îÄ audit-log.model.prisma
‚îú‚îÄ‚îÄ migrations/            # –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ README.md
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Prisma:

```bash
# –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Prisma Client
npm run prisma:generate

# –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
npm run prisma:migrate

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
npm run prisma:deploy

# –û—Ç–∫—Ä—ã—Ç—å Prisma Studio
npm run prisma:studio
```

## üìù –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **Multi-file Schema** - Prisma –Ω–∞—Ç–∏–≤–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã –Ω–∞ —Ñ–∞–π–ª—ã (v6.7.0+)
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ** - Prisma –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ `.prisma` —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ package.json** - —É–∫–∞–∑—ã–≤–∞–µ–º `"prisma": { "schema": "./src/infrastructure/database/schema" }`

## üîß –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π/–µ–Ω—É–º–æ–≤

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø–∞–ø–∫–µ (`models/` –∏–ª–∏ `enums/`)
2. –î–æ–±–∞–≤—å—Ç–µ –º–æ–¥–µ–ª—å/–µ–Ω—É–º –≤ —Ñ–∞–π–ª
3. –°–æ–∑–¥–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é: `npm run prisma:migrate`

## üìã –î–æ–º–µ–Ω—ã

### User Domain

- `User` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `Session` - —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `Achievement` - –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

### Language Domain

- `Language` - —è–∑—ã–∫–∏
- `GrammarRule` - –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞
- `VerbForm` - —Ñ–æ—Ä–º—ã –≥–ª–∞–≥–æ–ª–æ–≤

### Content Domain

- `Card` - –∫–∞—Ä—Ç–æ—á–∫–∏
- `Definition` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- `Example` - –ø—Ä–∏–º–µ—Ä—ã
- `Tag` - —Ç–µ–≥–∏

### Learning Domain

- `Set` - –Ω–∞–±–æ—Ä—ã –∫–∞—Ä—Ç–æ—á–µ–∫
- `UserSet` - –Ω–∞–±–æ—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `Folder` - –ø–∞–ø–∫–∏
- `UserCard` - –∫–∞—Ä—Ç–æ—á–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### Progress Domain

- `Progress` - –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–∑—É—á–µ–Ω–∏—è
- `AuditLog` - –ª–æ–≥–∏ –∞—É–¥–∏—Ç–∞

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ npm —Å–∫—Ä–∏–ø—Ç—ã** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Prisma
- **–†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–∞—Ö `models/` –∏ `enums/`**
- **Prisma –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - –∫–∞–∂–¥–∞—è –º–æ–¥–µ–ª—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ  
‚úÖ **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è** - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–æ–º–µ–Ω–∞–º  
‚úÖ **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** - –ª–µ–≥—á–µ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—É—é –º–æ–¥–µ–ª—å  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏  
‚úÖ **–ù–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - Prisma –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å multi-file schema  
‚úÖ **–õ–æ–≥–∏—á–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ** - schema –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ infrastructure/database

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

Schema —Ä–∞–∑–º–µ—â–µ–Ω–∞ –≤ `/src/infrastructure/database/schema/` –ø–æ—Ç–æ–º—É —á—Ç–æ:

- **Infrastructure** - Prisma schema —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Database** - —Å—Ö–µ–º–∞ –Ω–∞–ø—Ä—è–º—É—é —Å–≤—è–∑–∞–Ω–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **Schema** - —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π –∏ –µ–Ω—É–º–æ–≤

–≠—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º Clean Architecture –∏ –¥–µ–ª–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ –±–æ–ª–µ–µ –ª–æ–≥–∏—á–Ω–æ–π.
